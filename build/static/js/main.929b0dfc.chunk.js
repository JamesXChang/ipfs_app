(this.webpackJsonpipfs=this.webpackJsonpipfs||[]).push([[0],{160:function(e,t){},196:function(e,t,n){"use strict";var a=n(97);t.a=new a.a.eth.Contract([{constant:!1,inputs:[{name:"x",type:"string"}],name:"setHash",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getHash",outputs:[{name:"x",type:"string"}],payable:!1,stateMutability:"view",type:"function"}],"0xF3D694B1cc97d72f095FAE628f7AbD1aFFB68B9D")},333:function(e,t){},375:function(e,t,n){"use strict";(function(e){var a=n(41),r=n.n(a),c=n(124),s=n(376),o=n(377),i=n(381),l=n(378),u=n(382),f=n(4),p=n.n(f),m=(n(392),n(97)),h=n(380),d=n(196),b=function(t){function n(){var t,a;Object(s.a)(this,n);for(var o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];return(a=Object(i.a)(this,(t=Object(l.a)(n)).call.apply(t,[this].concat(u)))).state={ipfsHash:null,buffer:"",ethAddress:"",blockNumber:"",transactionHash:"",gasUsed:"",txReceipt:"",ipfs_img:null},a.captureFile=function(e){e.stopPropagation(),e.preventDefault();var t=e.target.files[0],n=new window.FileReader;n.readAsArrayBuffer(t),n.onloadend=function(){return a.convertToBuffer(n)}},a.convertToBuffer=function(){var t=Object(c.a)(r.a.mark((function t(n){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.from(n.result);case 2:c=t.sent,a.setState({buffer:c});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.onClick=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({blockNumber:"waiting.."}),a.setState({gasUsed:"waiting..."}),e.next=5,m.a.eth.getTransactionReceipt(a.state.transactionHash,(function(e,t){console.log(e,t),a.setState({txReceipt:t})}));case 5:return e.next=7,a.setState({blockNumber:a.state.txReceipt.blockNumber});case 7:return e.next=9,a.setState({gasUsed:a.state.txReceipt.gasUsed});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),a.onSubmit=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,m.a.eth.getAccounts();case 3:return n=e.sent,console.log("Sending from Metamask account: "+n[0]),e.next=7,d.a.options.address;case 7:return c=e.sent,a.setState({ethAddress:c}),e.next=11,h.a.add(a.state.buffer,(function(e,t){console.log(e,t),a.setState({ipfsHash:t[0].hash});var r="https://gateway.ipfs.io/ipfs/"+t[0].hash;console.log(e,r),a.setState({ipfs_img:r}),d.a.methods.setHash(a.state.ipfsHash).send({from:n[0]},(function(e,t){console.log(t),a.setState({transactionHash:t})}))}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(u.a)(n,t),Object(o.a)(n,[{key:"render",value:function(){return p.a.createElement("div",{className:"App"},p.a.createElement("header",{className:"App-header"},p.a.createElement("h1",null," Ethereum and IPFS with Create React App")),p.a.createElement("hr",null),p.a.createElement("grid",null,p.a.createElement("h3",null," Choose file to send to IPFS "),p.a.createElement("div",{class:"div_center"},p.a.createElement("form",{class:"form-group",onSubmit:this.onSubmit},p.a.createElement("input",{type:"file",onChange:this.captureFile}),p.a.createElement("button",{class:"button_center btn btn-outline-primary cursor-pointer",type:"submit"}," Send it"))),p.a.createElement("br",null),p.a.createElement("hr",null),p.a.createElement("div",{class:"div_center"},p.a.createElement("div",{class:"col-md-3 col-x2-1"},p.a.createElement("button",{type:"button",class:"button2 btn-block btn btn-outline-primary nofocus cursor-pointer",onClick:this.onClick}," Get Transaction Receipt ")),p.a.createElement("table",{class:"table table-striped table-hover",bordered:!0,responsive:!0},p.a.createElement("thead",null,p.a.createElement("tr",null,p.a.createElement("th",{scope:"col",class:"col-md-3"},"Tx Receipt Category"),p.a.createElement("th",{scope:"col",class:"col-md-3"},"Values"))),p.a.createElement("tbody",null,p.a.createElement("tr",null,p.a.createElement("th",{scope:"row"},"IPFS Hash # stored on Eth Contract: "),p.a.createElement("td",null,this.state.ipfsHash)),p.a.createElement("tr",null,p.a.createElement("th",{scope:"row"},"Ethereum Contract Address: "),p.a.createElement("td",null,this.state.ethAddress)),p.a.createElement("tr",null,p.a.createElement("th",{scope:"row"},"Tx Hash # : "),p.a.createElement("td",null,this.state.transactionHash)),p.a.createElement("tr",null,p.a.createElement("th",{scope:"row"},"Block Number # : "),p.a.createElement("td",null,this.state.blockNumber)),p.a.createElement("tr",null,p.a.createElement("th",{scope:"row"},"Gas Used : "),p.a.createElement("td",null,this.state.gasUsed)))),p.a.createElement("h3",null,"IPFS image"),p.a.createElement("iframe",{src:this.state.ipfs_img,alt:"ipfs",width:"1000",height:"500",title:"myFrame"}),p.a.createElement("br",null))))}}]),n}(f.Component);t.a=b}).call(this,n(0).Buffer)},380:function(e,t,n){"use strict";var a=new(n(393))({host:"ipfs.infura.io",port:5001,protocol:"https"});t.a=a},383:function(e,t,n){e.exports=n(936)},388:function(e,t,n){},392:function(e,t,n){},407:function(e,t){},409:function(e,t){},416:function(e,t){},418:function(e,t){},449:function(e,t){},450:function(e,t){},453:function(e,t){},455:function(e,t){},485:function(e,t){},487:function(e,t){},491:function(e,t){},533:function(e,t){},535:function(e,t){},704:function(e,t){},720:function(e,t){},790:function(e,t){},930:function(e,t){},936:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n.n(a),c=n(374),s=n.n(c),o=(n(388),n(375));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(935);s.a.render(r.a.createElement(o.a,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},97:function(e,t,n){"use strict";var a=n(379),r=new(n.n(a).a)(window.web3.currentProvider);t.a=r}},[[383,1,2]]]);